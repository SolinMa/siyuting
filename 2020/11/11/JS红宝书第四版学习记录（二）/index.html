<!DOCTYPE html>
<html lang="zh">
<!--
             -. .                                        
       _____   ',' ,                                    
     ,'     ,'   ', ',                                  
   ,'     ,'      |  |                                  
   \       \       |  |                                  
     \ /^\   \    ,' ,'                                  
           \   \ ,' ,'      L'Internationale,            
     / ~-.___\.-'  ,'            Sera le genre humain.   
   /   .______.- ~ \                                     
 /   /'          \   \                                   
 \./               \/'                                   
                                                         
-->
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <title>JS红宝书第四版学习记录（二） - 四雨亭下的猫</title>
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/css/style.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/libs/highlight/styles/monokai-sublime.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/libs/font-awesome/css/font-awesome.min.css">
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/libs/zpix/zpix.css">
      <script src="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/js/theme.js"></script>
    
<meta name="generator" content="Hexo 5.4.0"></head>

<body id="bodyx" path="2020/11/11/JS红宝书第四版学习记录（二）/">
    <div class="hd posts">
    <a class="back" href="javascript:void(0);" target="_self"><i class="fa fa-reply replay-btn" aria-hidden="true"></i></a>
    <h1 class="post-title">JS红宝书第四版学习记录（二）</h1>
    <hr>

    
        <div class="outdated-notify">
            本文发布于 <span class="num">-</span> 天前，文中所描述的信息可能已发生改变或是过时，请注意辨别
        </div>
    

    <div class="post-content">
        <h3 id="第三章-语言基础"><a href="#第三章-语言基础" class="headerlink" title="第三章 语言基础"></a>第三章 语言基础</h3><h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><p>语句结束应该跟上<code>;</code>，便于解析器解析，某些情况下能提升性能。</p>
<h4 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h4><p>var 声明的变量存在变量提升，可以重复声明，作用域为 <em>函数</em> 作用域，在全局作用域直接声明 <em>会</em> 赋值到windows对象（<del>不推荐</del>）。<br>let 声明的变量不存在变量提升，不能重复声明，作用域为 <em>块级</em> 作用域，在全局作用域直接声明 <em>不会</em> 赋值到windows对象。<br>const 生命的变量为常量，不能修改，且必须初始化赋值（_能用 const 就不用 let_）。</p>
<pre><code class="javascript">var name = &#39;张三&#39;; 
console.log(window.name); // &#39;张三&#39; 
let age = 18; 
console.log(window.age); // undefined

for (var i = 0; i &lt; 5; ++i) &#123; 
 setTimeout(() =&gt; console.log(i), 0) 
&#125; 
// 你可能以为会输出 0、1、2、3、4 
// 实际上会输出 5、5、5、5、5

for (let i = 0; i &lt; 5; ++i) &#123; 
 setTimeout(() =&gt; console.log(i), 0) 
&#125; 
// 会输出 0、1、2、3、4
</code></pre>
<h4 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h4><h5 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h5><p>typeof操作符，它不是函数，所以不需要参数（但可以使用参数）。<br> “undefined”表示值未定义；<br> “boolean”表示值为布尔值；<br> “string”表示值为字符串；<br> “number”表示值为数值；<br> “object”表示值为对象（而不是函数）或 null；<br> “function”表示值为函数；<br> “symbol”表示值为符号。</p>
<h5 id="Null类型"><a href="#Null类型" class="headerlink" title="Null类型"></a>Null类型</h5><p>Null类型，它表示一个空的对象指针。声明一个明确作为对象使用的变量或属性的时候建议使用。</p>
<pre><code class="javascript">let foo = null;
foo = &#123;&#125;

let bar = &#123;
    baz:  null,
    qux: &#39;balabala&#39;
&#125;
bar.baz = &#123;&#125;
</code></pre>
<h5 id="Number-类型"><a href="#Number-类型" class="headerlink" title="Number 类型"></a>Number 类型</h5><ul>
<li>Number 类型使用 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/IEEE%20754/3869922" title="百度百科">IEEE 754</a> 格式表示整数和浮点值（在某些语言中也叫双精度值）。</li>
<li>ES6 中的八进制值通过前缀 0o 来表示；严格模式下，前缀 0 会被视为语法错误，如果要表示八进制值，应该使用前缀 0o。</li>
<li>浮点值的精确度最高可达 17 位小数，但在算术计算中远不如整数精确。由于这种微小的舍入错误，导致很难测试特定的浮点值。</li>
</ul>
<pre><code class="javascript">let a = 0.1;
let b = 0.2;
if (a + b == 0.3) &#123; // 别这么干！实际为 0.300 000 000 000 000 04
    console.log(&quot;你得到 0.3&quot;); 
&#125; 
</code></pre>
<h6 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h6><p>NaN（Not a Number）表示非数值，通常用0作除数会出现。<br>判断是否为NaN，可以用函数 <code>isNaN()</code> ，不可直接判断。</p>
<pre><code class="javascript">NaN == NaN // false
NaN === NaN // false
isNaN(NaN) // true
</code></pre>
<h5 id="数值转换"><a href="#数值转换" class="headerlink" title="数值转换"></a>数值转换</h5><p>在一些类型转换中（比如减法操作），通常采用的逻辑为：</p>
<blockquote>
<p>字符串、布尔值、null 或 undefined： Number()<br>对象： 优先调用valueOf()，没有则调用toString()</p>
</blockquote>
<p><code>parseInt()</code> 函数，从第一个非空格字符开始转换，如果第一个字符不是数值字符、加号或减号，parseInt()立即返回 NaN。这意味着空字符串也会返回 NaN（这一点跟 <code>Number()</code> 不一样，它返回 0）。parseInt()也接收第二个参数，用于指定进制数（_推荐始终传入_）。</p>
<p><code>parseFloat()</code> 函数的工作方式跟 <code>parseInt()</code> 函数类似，都是从位置 0 开始检测每个字符。同样，它也是解析到字符串末尾或者解析到一个无效的浮点数值字符（包括小数点）为止。并且只解析10进制。</p>
<pre><code class="javascript">Number(undefined) // NaN
parseInt(undefined) // NaN

Number(null) // 0
parseInt(null) // NaN

Number(&#39; &#39;) // 0
parseInt(&#39; &#39;) // NaN

Number(&#39;.1&#39;) // 0.1
parseInt(&#39;.1&#39;) // NaN
</code></pre>
<h4 id="String类型"><a href="#String类型" class="headerlink" title="String类型"></a>String类型</h4><p>在一些类型转换中（比如字符串加法操作），通常采用的逻辑为：</p>
<blockquote>
<p>对象、数值或布尔值：toString()<br>undefined 和 null：String()</p>
</blockquote>
<p>转义序列表示一个字符，只占一个长度。</p>
<pre><code class="js">let text = &quot;sigma:\u03a3&quot;; // sigma:Σ
console.log(text.length) // 7
</code></pre>
<p>不确定一个值是不是 null 或 undefined，可以使用 String()转型函数，它始终会返回表示相应类型值的字符串。</p>
<pre><code class="js">let foo;
console.log(foo.toString()) // 报错
console.log(String(foo)) // undefined
</code></pre>
<p>字符串插值中所有插入的值都会使用 <code>toString()</code> 强制转型为字符串，而且任何 JavaScript 表达式都可以用于插值。</p>
<p>模板字面量标签函数，用例子说明。</p>
<pre><code class="js">let a = 6;
let b = 9;
function zipTag(strings, ...expressions) &#123;
    return strings[0] + expressions.map((e, i) =&gt; `$&#123;e&#125;$&#123;strings[i + 1]&#125;`).join(&#39;&#39;);
&#125;
let untaggedResult = `$&#123; a &#125; + $&#123; b &#125; = $&#123; a + b &#125;`;
let taggedResult = zipTag`$&#123; a &#125; + $&#123; b &#125; = $&#123; a + b &#125;`;
console.log(untaggedResult); // &quot;6 + 9 = 15&quot;
console.log(taggedResult); // &quot;6 + 9 = 15&quot;
</code></pre>
<p>原始模板字符串。</p>
<pre><code class="js">console.log(`\u00A9`); // © 
console.log(String.raw`\u00A9`); // \u00A9
</code></pre>
<p>也可以通过标签函数的第一个参数，即字符串数组的.raw 属性取得每个字符串的原始内容。</p>
<pre><code class="js">function printRaw(strings) &#123; 
 console.log(&#39;Actual characters:&#39;); 
 for (const string of strings) &#123; 
 console.log(string); 
 &#125; 
 console.log(&#39;Escaped characters;&#39;); 
 for (const rawString of strings.raw) &#123; 
 console.log(rawString); 
 &#125; 
&#125; 
printRaw`\u00A9$&#123; &#39;and&#39; &#125;\n`; 
// Actual characters: 
// © 
//（换行符）
// Escaped characters: 
// \u00A9 
// \n
</code></pre>
<h4 id="Symbol类型"><a href="#Symbol类型" class="headerlink" title="Symbol类型"></a>Symbol类型</h4><p>Symbol()实例用作对象的属性名可以保证其唯一性。Symbol()函数接收一个字符串参数作为描述以调试。但是它们并不相等。</p>
<pre><code class="js">let fooSymbol = Symbol(); 
let barSymbol = Symbol(); 
let bazSymbol = Symbol(&#39;baz&#39;); 
let baz1Symbol = Symbol(&#39;baz&#39;); 
console.log(bazSymbol.description) // &quot;foo&quot;
console.log(fooSymbol == barSymbol); // false 
console.log(bazSymbol == baz1Symbol); // false
</code></pre>
<p>使用 Symbol.for()方法在全局符号注册表中创建并重用符号，但是它跟描述符并不相同。使用 Symbol.keyFor()来查询全局注册表。</p>
<pre><code class="js">let fooGlobalSymbol = Symbol.for(&#39;foo&#39;); // 创建新符号
let otherFooGlobalSymbol = Symbol.for(&#39;foo&#39;); // 重用已有符号
console.log(fooGlobalSymbol === otherFooGlobalSymbol); // true

let fooSymbol = Symbol(&#39;foo&#39;);
console.log(fooGlobalSymbol === fooSymbol); // false

console.log(Symbol.keyFor(fooGlobalSymbol)) // foo
console.log(Symbol.keyFor(fooSymbol)) // undefined
</code></pre>
<h4 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h4><h5 id="位操作符"><a href="#位操作符" class="headerlink" title="位操作符"></a>位操作符</h5><p>有符号整数使用 32 位的前 31 位表示整数值。第 32 位表示数值的符号，如 0 表示正，1 表示负。<br>负值以一种称为<strong>二补数</strong>（或补码）的二进制编码存储。步骤如下：<br>(1) 确定绝对值的二进制表示；<br>(2) 找到数值的一补数（或反码），换句话说，就是每个 0 都变成 1，每个 1 都变成 0；<br>(3) 给结果加 1（补数加1，实际值为减1）。</p>
<h5 id="布尔运算符"><a href="#布尔运算符" class="headerlink" title="布尔运算符"></a>布尔运算符</h5><p>逻辑与具有短路效应，如果第一个值为false，那么不会走到第二个值（React中常用于条件渲染）。</p>
<h5 id="指数操作符"><a href="#指数操作符" class="headerlink" title="指数操作符"></a>指数操作符</h5><p>es7新增 <code>**</code> 操作符，效果等同<code>Math.pow()</code></p>
<pre><code class="js">// 开平方
let sqrt = 16;
sqrt **= 0.5;
console.log(sqrt); // 4
</code></pre>
<h5 id="关系操作符"><a href="#关系操作符" class="headerlink" title="关系操作符"></a>关系操作符</h5><p>字符串比较，逐个按照编码比较；<br>数值字符串比较，先转换为数值；<br>NaN参与比较，均为false;</p>
<pre><code class="js">let result = &quot;Brick&quot; &lt; &quot;alphabet&quot;; // true
let result = &quot;23&quot; &lt; &quot;3&quot;; // true
let result = &quot;23&quot; &lt; 3; // false
let result = &quot;a&quot; &lt; 3; // 因为&quot;a&quot;会转换为 NaN，所以结果是 false
let result1 = NaN &lt; 3; // false 
let result2 = NaN &gt;= 3; // false
</code></pre>
<h5 id="逗号操作符"><a href="#逗号操作符" class="headerlink" title="逗号操作符"></a>逗号操作符</h5><p>在赋值时使用逗号操作符分隔值，最终会返回表达式中最后一个值。</p>
<pre><code class="js">let num = (5, 1, 4, 8, 0); // num 的值为 0
</code></pre>
<h4 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h4><p>for-in 语句用于 <strong>枚举</strong> 对象中的 <strong>非符号</strong> 键属性。<br>for-of 语句用于遍历 <strong>可迭代</strong> 对象的元素。<br>switch 语句采用全等判断，它的一种用法如下：</p>
<pre><code class="js">let num = 25;
switch (true) &#123;
    case num &lt; 0:
        console.log(&quot;Less than 0.&quot;);
         break;
    case num &gt;= 0 &amp;&amp; num &lt;= 10:
        console.log(&quot;Between 0 and 10.&quot;);
        break;
    case num &gt; 10 &amp;&amp; num &lt;= 20:
        console.log(&quot;Between 10 and 20.&quot;);
        break;
    default:
        console.log(&quot;More than 20.&quot;);
&#125;
</code></pre>

    </div>

    
        <hr class="fhr">
        <div id="vcomments"></div>
    

    <script>
        var pub_date = 1605112585000;
    </script>
</div>
    <div class="footer" id="footer">
  <p>
    Copyright © 2020 <a class="flink" href="/">四雨亭下的猫</a> · Theme by <a class="flink"
      target="_blank" rel="noopener" href="https://github.com/journey-ad/hexo-theme-geek">Geek</a>.
    <br>
    Made with <i class="fa fa-heart throb" style="color:#d43f57"></i> by <span class="author"
      itemprop="copyrightHolder">Solin·Ma</span>.
    <label class="el-switch el-switch-green el-switch-sm" style="vertical-align: sub;">
      <input type="checkbox" name="switch" id="update_style">
      <span class="el-switch-style"></span>
    </label>
  </p>
</div>

<a href="javascript:void(0);" class="back-to-top" target="_self"></a>

<input type="hidden" id="web_style" value="white">
<input type="hidden" id="valine_appid" value="vSwxBpRGl3Uo3AjuKTSx8A59-gzGzoHsz">
<input type="hidden" id="valine_appKey" value="Y9dvQjyrjSOAROWW2v2cznTC">
<script src='//cdn.jsdelivr.net/npm/valine@1.4.14/dist/Valine.min.js'></script>

<script src="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/libs/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/libs/highlight/highlight.pack.js"></script>
<script src="https://cdn.jsdelivr.net/gh/SolinMa/siyuting@gh-pages/js/js.js"></script>

<style type="text/css">
  .v .vlist .vcard .vhead .vsys {
    color: #3a3e4a;
  }
  .v .vlist .vcard .vh .vmeta .vat {
    color: #638fd5;
  }
  .v .vlist .vcard .vhead .vnick {
    color: #6ba1ff;
  }
  .v a {
    color: #8696b1;
  }
  .v .vlist .vcard .vhead .vnick:hover {
    color: #669bfc;
  }
  .v .vcards .vcard .vhead .vnick {
    padding-left: 1px;
  }
  .v .vcontent .vemoji {
    max-width: 30px;
  }
  .v[data-class=v] p {
    color: inherit;
  }
</style>
</body>

</html>